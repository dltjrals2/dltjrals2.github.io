---
title: "[Network] 라우터에 대한 개념 정리"

categories:
  - Network
tags:
  - [Network, Router, IRP, ERP]

toc:  true
toc_sticky: true
show_date: true
read_time: false
use_math: false

date: 2021-10-07
last_modified_at: 2021-10-07
sitemap :
  changefreq : daily
  priority : 1.0
---

## 7. 라우터만 알면 네트워크 도사?  

### 1. 라우터를 한마디로 말하자면...  

네트워크를 하는 사람이 가장 자주 만나는 장비는 라우터이다.  

인터넷을 사용하기 위해서, 서로 다른 네트워크 간 통신하기 위해서, 그리고 브로드캐스트 영역을 나눠주기 위해서이다.  

라우터란, 한마디로 **<u>지능을 가진 경로 배정기</u>**라고 할 수 있다.  

지능을 가진 경로 배정기란 말은 라우터는 자신이 가야 할 길을 자동으로 찾아서 갈 수 있는 능력을 가진 것을 말한다. 즉 외부의 어떤 인터넷 사이트를 찾아가는 데이터가 있다면 라우터는 이 데이터를 목적지까지 가장 빠르고 효율적인 길을 스스로 찾아 안내해 주는 능력을 가지고 있다.  

### 2. 라우터는 무슨 일을 할까요?  

라우터는 두가지 일을 하는데 하나는 **<u>Path Determintation(경로 결정)</u>**이고, 또 하나는 **<u>Switching</u>**이다.  

경로 결정이란, 데이터 패킷이 목적지까지 갈 수 있는 길을 검사하고 어떤 길로 가는 것이 가장 적절한지를 결정한다.  

스위칭이란, 경로가 결정되면 그쪽으로 데이터 패킷을 스위칭한다.  

라우터는 어떻게 가장 좋은 길을 찾아가는 걸까? 라우터가 가장 좋은 길을 찾는 데는 라우팅 알고리즘, 즉 라우팅 프로토콜이 사용된다.  

라우팅 알고리즘을 위해서 라우팅 테이블이란 것을 만들어서 관리한다. 즉, 라우팅 테이블에는 어디로 가려면 어떻게 가라는 지도 정보가 들어있다.  

이러한 라우팅의 기능을 위해서 PC처럼 CPU도 가지고 있고, 메모리도 가지고 있고, 또 인터페이스도 가지고 있다.  

📌**<u>내용 정리</u>**📌  
- 라우터는 경로 결정과 스위칭을 하는 장비이다.  
- 가장 좋은 경로를 결정하기 위해 라우팅 알고리즘을 사용한다.  
- 라우팅 알고리즘은 라우팅 테이블을 만들어서 관리한다.  

### 3. 라우터는 어떻게 생긴 녀석일까요?  

### 4. 라우팅 프로토콜과 라우티드 프로토콜  

TCP/IP와 IPX, AppleTalk 등 우리가 아는 모든 프로토콜은 전부 라우티드 프로토콜이다.  

라우티드 포토콜이란, **<u>말 그대로 라우팅을 당하는, 즉 라우터가 라우팅을 해주는 고객을 뜻한다.</u>**  

라우팅 프로토콜은 고객을 안전하고 빠르게 전달해주는 기사라고 볼 수 있다. 즉 라우터에 살면서 라우티드 프로토콜들에게 목적지까지 가장 좋은 길을 갈 수 있게 해주는 역할을 한다.  

라우팅 프로토콜에는 IRP(Routing Information Protocol), IRGP(Interior Gatway Routing Protocol), OSPF(Open Shortes Path First), EIGRP(Enhanced Interior Gateway Routing Protocol) 등이 있다.  

라우팅 프로토콜은 다른 말로는 '라우팅 알고리즘'이라고도 한다. 라우팅 알고리즘은 자신의 라우팅 테이블을 가지고 있으면서 자기가 찾아갈 경로에 대한 정보를 이곳에 기억해둔다. 어디가 가장 빠르고 안전한 길인지.  

즉, 라우팅 테이블은 운전기사(라우팅 프로토콜)가 있으면서 어떤 길이 좋은 길인지 메모해 두는 이정표 같은 것이라고 생각하면 된다.  

또, 어떤 알고리즘을 사용하는가에 따라서 라우팅 테이블 내용은 달라지게 된다. 왜냐하면 운전기사별로 메모하는 버릇이 다를 테니까 말이다.  

라우팅 테이블에는 주로 목적지, 그리고 그 목적지까지의 거리, 그리고 어떻게 가야 하는가 등의 내용이 들어있다. 라우팅 테이블은 시간이 지나면서 계속 업데이트 된다.  

📌**<u>내용 정리</u>**📌  
- 라우티드는 자동차에 타는 승객이고, 이 자동차를 운전하는 것이 라우팅 프로토콜이다. 자동차는 라우터이다.  
- 자동차의 운전기사는 자기가 가는 목적지에 대한 이정표를 가지고 있는데, 이를 라우팅 테이블이라고 한다.  

### 5. 스태틱 라우팅 프로토콜과 다이나믹 라우팅 포로토콜  

라우팅 프로토콜을 구분할 때 스태틱과 다이나믹 라우팅 프로토콜로 구분한다.  

스태틱은 말 그대로 한 번 정해놓으면 죽으나 사나 정해진 그대로 수행하는 프로토콜을 말하고, 다이나믹은 상황에 따라서 그때그때 변화가 가능한 프로토콜이다.  

스태틱 라우팅 프로토콜의 경우는 **<u>라우터에 사람이 일일이 경로를 입력해주는 것이다.</u>** 가장 빠르고 좋은 길을 찾아서 말이다. 그럼 라우터는 사람이 입력해 준대로 데이터를 보내기만 하면 된다.  

그리고, 아무 생각 없이 데이터를 넘기기만 하면 되니까 라우터 입장에서 봤을 때는 생각할 게 별로 없다. 시키는 대로 하기 때문에 따로 이정표도 많이 가지고 있을 필요도 없다.  

즉, 라우터 자체에는 부담이 들지 않아 라우팅하는 속도도 빨라지고 라우터의 성능이 좋아지게 된다. 물론 메모리도 적게 든다. 그리고 사람이 경로를 알려주는 방식이기 때문에 다이나믹 라우팅 방식처럼 라우터들끼리 라우팅 테이블을 교환할 필요도 없다. 따라서 네트워크의 대역폭을 그만큼 절약할 수 있다. 그리고 외부에 자신의 정보를 알리지 않기 때문에 보안에도 강하다.  

그러나 단점도 있다.  

사람이 일일이 목적지별로 경로를 넣어줘야 하기 때문에 귀찮고, 입력해준 경로에 문제가 생기면 큰일이 발생한다.  

다이나믹 라우팅 프로토콜의 경우에는 **<u>문제가 생겨도 자동으로 판단하고 그때그때 가장 좋은 길을 찾아내는 방식이다.</u>**  

하지만, 라우터가 할 일이 많아지기에 라우터에 부담을 준다. 예를 들어, 어떤 길이 가장 빠른 길인지 계산을 해야 하고, 또 시간이 지날 때마다 바뀐 정보는 없는지 계속 확인해 봐야 하며, 이정표도 계속 업데이트 해야 한다.  

일반적으로 이야기하는 RIP, IGRP, OSPF EIGRP 등이 이런 다이나믹 라우팅 프로토콜에 해당한다.  

일반적인 라우팅 환경에서는 여러 가지 상황에 자동으로 대응할 수 있는 장점이 있고, 또 자동으로 가장 좋은 길을 찾아가는 다이나믹 프로토콜을 주로 사용한다.  

하지만 어떨 때는 라우팅 성능을 높이기 위해 스태틱을 사용하기도 한다. 또 라우터가 선택할 수 있는 경로가 오직 하나뿐일 때는 다이나믹 프로토콜을 쓸 필요가 없을 수도 있다.  

📌**<u>내용 정리</u>**📌  
- 라우팅 프로토콜에는 '스태틱 라우팅'과 '다이나믹 라우팅'이 있다.  
- 스태틱 라우팅은 정해진 길만을 가기에 일일이 구성을 해줘야 하고, 문제가 생겨도 해결할 수 없다.  
- 다이나믹 라우팅은 알아서 길을 찾아가는 장점이 있는 대신 라우터가 할 일이 많아진다.  

### 6. 라우팅 테이블에 대한 이야기  

라우팅 테이블이란 **<u>라우터가 어떤 경로를 찾을 때 사용하는 것이고, 이것은 사용하는 라우터의 프로토콜에 따라 달라지며, 항상 최적의 경로를 찾아 라우팅 테이블에 유지한다.</u>**  

라우터에게 가장 중요한 것은 무엇일까? 그것은 바로 **<u>'라우팅 테이블'</u>**이라고 불리는 지도이다.  

지도란, 여러 가지 정보를 종합해서 얻어낸 네트워크에 대한 지도이다. 즉 어떤 목적지에 가기 위해서 어떤 경로를 이용해서 가야 된다는 써놓은 정보이다.  

라우터는 전원을 켜는 그 순간부터(라우팅 프로토콜에 대한 세팅은 이미 되어 있다고 가정) 라우팅 테이블을 만들기 시작해서 어떤 패킷이 길 안내를 요청하면 라우팅 테이블을 보고 길을 안내해준다.  

그렇다면 전원이 꺼지는 경우에는 어떻게 될까?  

라우터에서 라우팅 테이블에 대한 정보가 모두 지워지게 되고 전원이 켜지면 다시 만들어진다.  

📌**<u>내용 정리</u>**📌  
- 라우터는 라우팅 테이블이라는 경로에 대한 지도 정보를 유지하고 있다.
- 라우팅 테이블은 RAM에 정보가 올라가기 때문에 파워가 꺼지면 전부 지워져 버린다. 다시 파워를 켜면 수초 또는 수분 만에 다시 만들어진다.  

### 7. AS, 그리고 내부용과 외부용 라우팅 프로토콜  

AS는 'Autonomous System'의 약자로, 하나의 네트워크 관리자에 의해서 관리되는 라우터들의 집단이라고 생각하면 된다.  

또 어떤 의미로는 하나의 관리 규정 아래서 운융되는 라우터의 집단 또는 하나의 관리 전략으로 구성된 라우터 집단 등으로, 쉽게 말하면 한 회사나 기업, 또는 단체의 라우터 집단이라고 생각하면 된다.  

예를 들어 어떤 기업이 네트워크를 구축하게 되면 그 네트워크 안에는 여러 대의 라우터가 올 수 있다. 이 기업에 소속된 모든 라우터들은 그 기업의 네트워크 관리자에 의해 관리를 받게 되는데, 이런 그룹이 바로 AS가 됩니다.  

또, KT, 데이콤과 같은 ISP 업체들도 자신들의 가진 라우터가 한두 대가 아닐 것이다. 이렇게 ISP들이 보유하고 있는 라우터 그룹이 하나의 AS가 된다.  

라우터들을 다시 AS라는 그룹으로 묶어주는 이유는 라우터가 가지는 정보를 효율적으로 관리하고 인터넷 서비스를 좀 더 간편하게 제공하기 위해서다.  

즉, AS 안에 있는 라우터들은 자신의 AS에 속해 있는 라우터에 대한(물론 자신들 내부의 네트워크 정보) 정보만 알고 있으면 된다. 그러다가 외부, 즉 AS 밖으로 나갈 때는 그 AS에 있는 문지기 라우터(ASBR:Autonomous System Boundary Router)에게 정보를 물어봐서 밖으로(인터넷) 나가는 것이다.  

문지기 라우터는 자신의 AS와 인접해 있는 다른 AS에 대한 정보를 가지고 있으면서 자기 AS에서 밖으로 나가는 라우터나 외부 AS에서 자기 AS쪽으로 들어오는 라우터에게 정보를 제공한다.  

이런 시스템 때문에 라우터들은 인터넷에 접속하더라도 전 세계의 모든 네트워크에 대한 정보를 다 가지고 있을 필요가 없고, 단지 자신이 속한 AS에 대한 정보만 가지면 된다.  

이때 라우터가 AS 내부에서 사용하는 라우팅 프로토콜을 Interior Routing Protocol 또는 Interior Gateway Protocol(IGP)이라고 하고 AS 간에, 즉 AS 외부에서 서로 라우팅 정보를 주고받기 위해 라우터가 사용하는 프로토콜을 Exterior Routing Protocol 또는 Exterior Gateway Protocol(EGP)이라고 한다.  

Interior Routing Protocol의 예로는 RIP, IGRP, EIGRP, OSPF 등이 있고, Exterior Routing Protocol의 예로는 RGP, BGP 등이 있다.  

따라서 본사와 지사 간에 라우터를 설치할 경우에는 RIP나 OSPF등 IGP를 사용하고, 본사의 라우터가 인터넷 서비스 업체와 연결을 해서 인터넷을 사용할 경우는 BGP 같은 EGP를 사용한다.  

📌**<u>내용 정리</u>**📌  
- AS 안에서는 Interior Routing Protocol, 즉 내부용 라우팅 프로토콜을 사용한다.  
- AS와 AS간의 통신에는 라우터에서 BGP 같은 Exterior Routing Protocol, 즉 외부용 라우팅 프로토콜을 사용한다.  

### 8. 라우터 구성의 시작

---
**🐢 현재 공부하고 있는 `후니의 쉽게 쓴 CISCO 네트워킹 - 진강훙 저자` 의 책을 학습하며 기록 및 정리를 하기위한 내용들입니다. 🐢**
{: .notice--primary}

감사합니다.😊