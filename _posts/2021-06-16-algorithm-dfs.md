---
title: "[DFS] νƒμƒ‰ μ•κ³ λ¦¬μ¦ DFS"

categories:
  - Algorithm
tags:
  - [Algorithm, Python, DFS]

toc:  true
toc_sticky: true
show_date: true
read_time: false

date: 2021-06-16
last_modified_at: 2021-06-16
sitemap :
  changefreq : daily
  priority : 1.0
---

## νƒμƒ‰ μ•κ³ λ¦¬μ¦ DFS  

> DFS  

DFSλ” Depth-First Search, `κΉμ΄ μ°μ„  νƒμƒ‰μ΄λΌκ³ λ„ λ¶€λ¥΄λ©°, κ·Έλν”„μ—μ„ κΉμ€ λ¶€λ¶„μ„ μ°μ„ μ μΌλ΅ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦μ΄λ‹¤.`  
κ·Έλν”„λ” λ…Έλ“(Node)μ™€ κ°„μ„ (Edge)μΌλ΅ ν‘ν„λλ©° μ΄λ• λ…Έλ“λ¥Ό μ •μ (Vertex)μ΄λΌκ³ λ„ λ§ν•λ‹¤. κ·Έλν”„ νƒμƒ‰μ΄λ€ ν•λ‚μ λ…Έλ“λ¥Ό μ‹μ‘μΌλ΅ λ‹¤μμ λ…Έλ“λ¥Ό λ°©λ¬Έν•λ” κ²ƒμ„ λ§ν•λ‹¤. λν• λ‘ λ…Έλ“κ°€ κ°„μ„ μΌλ΅ μ—°κ²°λμ–΄ μλ‹¤λ©΄ 'λ‘ λ…Έλ“λ” μΈμ ‘ν•λ‹¤(Adjacent)'λΌκ³  ν‘ν„ν•λ‹¤.  
ν”„λ΅κ·Έλλ°μ—μ„ κ·Έλν”„λ” ν¬κ² 2κ°€μ§€ λ°©μ‹μΌλ΅ ν‘ν„ν•  μ μλ‹¤.  
- μΈμ ‘ ν–‰λ ¬(Adjacency Matrix) : 2μ°¨μ› λ°°μ—΄λ΅ κ·Έλν”„μ μ—°κ²° κ΄€κ³„λ¥Ό ν‘ν„ν•λ” λ°©μ‹  
- μΈμ ‘ λ¦¬μ¤νΈ(Adgacency List) : λ¦¬μ¤νΈλ΅ κ·Έλν”„μ μ—°κ²° κ΄€κ³„λ¥Ό ν‘ν„ν•λ” λ°©μ‹  

![image](https://user-images.githubusercontent.com/37467408/122142480-8bba8e80-ce8a-11eb-9a67-3a0884fa461e.PNG)  

λ¨Όμ € **μΈμ ‘ ν–‰λ ¬(Adjacency Matrix) λ°©μ‹**μ€ 2μ°¨μ› λ°°μ—΄μ— κ° λ…Έλ“κ°€ μ—°κ²°λ ν•νƒλ¥Ό κΈ°λ΅ν•λ” λ°©μ‹μ΄λ‹¤. μ„μ™€ κ°™μ΄ μ—°κ²°λ κ·Έλν”Όλ¥Ό μΈμ ‘ ν–‰λ ¬λ΅ ν‘ν„ν•  λ• νμ΄μ¬μ—μ„λ” 2μ°¨μ› λ¦¬μ¤νΈλ΅ κµ¬ν„ν•  μ μλ‹¤.  
μ—°κ²°μ΄ λμ–΄ μμ§€ μ•μ€ λ…Έλ“λΌλ¦¬λ” λ¬΄ν•(Infinity)μ λΉ„μ©μ΄λΌκ³  μ‘μ„±ν•λ‹¤. λ…Όλ¦¬μ μΌλ΅ μ •λ‹µμ΄ λ  μ μ—†λ” ν° κ°’ μ¤‘μ—μ„ 999999999 λ“±μ κ°’μΌλ΅ μ΄κΈ°ν™”ν•λ” κ²½μ°κ°€ λ§λ‹¤.  

```python
INF = 999999999 # λ¬΄ν•μ λΉ„μ© μ„ μ–Έ

# 2μ°¨μ› λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•΄ μΈμ ‘ ν–‰λ ¬ ν‘ν„
graph = [
  [0, 7, 5],
  [7, 0, INF],
  [5, INF, 0]
]

print(graph)
```  

**μΈμ ‘ λ¦¬μ¤νΈ(Adjacency List)λ°©μ‹**μ—μ„λ” μ•„λμ™€ κ°™μ΄ λ¨λ“  λ…Έλ“μ— μ—°κ²°λ λ…Έλ“μ— λ€ν• μ •λ³΄λ¥Ό μ°¨λ΅€λ€λ΅ μ—°κ²°ν•μ—¬ μ €μ¥ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122142874-4185dd00-ce8b-11eb-9b32-a1aa4c85aa16.PNG)  

μΈμ ‘ λ¦¬μ¤νΈλ” 'μ—°κ²° λ¦¬μ¤νΈ'λΌλ” μλ£κµ¬μ΅°λ¥Ό μ΄μ©ν•΄ κµ¬ν„ν•λ‹¤. νμ΄μ¬μ€ κΈ°λ³Έ μλ£ν•μΈ λ¦¬μ¤νΈ μλ£ν•μ΄ append() λ©”μ†λ“λ¥Ό μ κ³µν•λ―€λ΅, C++ / JAVAμ—μ„μ λ°°μ—΄κ³Ό μ—°κ²° λ¦¬μ¤νΈμ κΈ°λ¥μ„ λ¨λ‘ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ‹¤. νμ΄μ¬μΌλ΅ μΈμ ‘ λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•΄ κ·Έλν”„λ¥Ό ν‘ν„ν•κ³ μ ν•  λ•μ—λ„ λ‹¨μν 2μ°¨μ› λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•λ©΄ λλ‹¤λ” μ μ„ κΈ°μ–µν•μ.  

```python
# ν–‰(Row)μ΄ 3κ°μΈ 2μ°¨μ› λ¦¬μ¤νΈλ΅ μΈμ ‘ λ¦¬μ¤νΈ ν‘ν„
graph = [[] for _ in range(3)]

# λ…Έλ“ 0μ— μ—°κ²°λ λ…Έλ“ μ •λ³΄ μ €μ¥(λ…Έλ“, κ±°λ¦¬)
graph[0].append((1, 7))
graph[0].append((2, 5))

# λ…Έλ“ 1μ— μ—°κ²°λ λ…Έλ“ μ •λ³΄ μ €μ¥(λ…Έλ“, κ±°λ¦¬)
graph[1].append((0, 7))

# λ…Έλ“ 2μ— μ—°κ²°λ λ…Έλ“ μ •λ³΄ μ €μ¥(λ…Έλ“, κ±°λ¦¬)
graph[2].append((0, 5))

print(graph)
```  

λ‘ λ°©μ‹μ μ°¨μ΄μ μ€ μ•„λμ™€ κ°™λ‹¤.  
`μΈμ ‘ ν–‰λ ¬ λ°©μ‹` : λ…Έλ“ κ°μκ°€ λ§μ„μλ΅ λ©”λ¨λ¦¬κ°€ λ¶ν•„μ”ν•κ² λ‚­λΉ„λλ‹¤. μ†λ„κ°€ λΉ λ¥΄λ‹¤.  
`μΈμ ‘ λ¦¬μ¤νΈ λ°©μ‹` : μ—°κ²°λ μ •λ³΄λ§μ„ μ €μ¥ν•κΈ° λ•λ¬Έμ— λ©”λ¨λ¦¬λ¥Ό ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•λ‹¤. μ†λ„κ°€ λλ¦¬λ‹¤.  

`DFS`λ” κΉμ΄ μ°μ„  νƒμƒ‰ μ•κ³ λ¦¬μ¦μ΄λ‹¤. μ΄ μ•κ³ λ¦¬μ¦μ€ νΉμ •ν• κ²½λ΅λ΅ νƒμƒ‰ν•λ‹¤κ°€ νΉμ •ν• μƒν™©μ—μ„ μµλ€ν• κΉμ²μ΄ λ“¤μ–΄κ°€μ„ λ…Έλ“λ¥Ό λ°©λ¬Έν• ν›„, λ‹¤μ‹ λμ•„κ°€ λ‹¤λ¥Έ κ²½λ΅λ¥Ό νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦μ΄λ‹¤.  
DFSλ” μ¤νƒ μλ£κµ¬μ΅°λ¥Ό μ΄μ©ν•λ©° κµ¬μ²΄μ μΈ λ™μ‘ κ³Όμ •μ€ λ‹¤μκ³Ό κ°™λ‹¤.  

- νƒμƒ‰ μ‹μ‘ λ…Έλ“λ¥Ό μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  
- μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μμΌλ©΄ κ·Έ μΈμ ‘ λ…Έλ“λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†μΌλ©΄ μ¤νƒμ—μ„ μµμƒλ‹¨ λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.  
- μ„ λ‘λ²μ§Έ κ³Όμ •μ„ λ” μ΄μƒ μν–‰ν•  μ μ—†μ„ λ•κ°€μ§€ λ°λ³µν•λ‹¤.  

μ•„λμ κ·Έλν”„μΌ κ²½μ°, λ…Έλ“1μ„ μ‹μ‘ λ…Έλ“λ΅ μ„¤μ •ν•μ—¬ DFSλ¥Ό μ΄μ©ν•΄ νƒμƒ‰μ„ μ§„ν–‰ν•λ©΄ μ–΄λ–»κ² λ κΉ? μ§κ΄€μ μΌλ΅ μƒκ°ν•λ©΄, λ‹¨μν•κ² κ°€μ¥ κΉμ™μ΄ μ„μΉν•λ” λ…Έλ“μ— λ‹Ώμ„ λ•κΉμ§€ ν™•μΈ(νƒμƒ‰)ν•λ©΄ λλ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144126-cb36aa00-ce8d-11eb-9b6a-0d15d01f9f0a.PNG)  

μΌλ°μ μΌλ΅ μΈμ ‘ν• λ…Έλ“ μ¤‘μ—μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—¬λ¬ κ° μμΌλ©΄ λ²νΈκ°€ λ‚®μ€ μμ„λ¶€ν„° μ²λ¦¬ν•λ‹¤.  

**<u>step 1</u>** : μ‹μ‘ λ…Έλ“μΈ '1'μ„ μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144274-1c469e00-ce8e-11eb-9ad2-bb01ccbdd3bb.PNG)  

**<u>step 2</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '1'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '2', '3', '8'μ΄ μλ‹¤. μ΄ μ¤‘μ—μ„ κ°€μ¥ μ‘μ€ λ…Έλ“μΈ '2'λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144365-531cb400-ce8e-11eb-844d-264d7209a18f.PNG)  

**<u>step 3</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '2'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '7'μ΄ μλ‹¤. λ”°λΌμ„ '7'λ² λ…Έλ“λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144450-7e9f9e80-ce8e-11eb-89bc-3a14d8af2b12.PNG)  

**<u>step 4</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '7'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '6'κ³Ό '8'μ΄ μλ‹¤. μ΄ μ¤‘μ—μ„ κ°€μ¥ μ‘μ€ λ…Έλ“μΈ '6'μ„ μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144565-b7d80e80-ce8e-11eb-95bf-42262b5bbbff.PNG)  

**<u>step 5</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '6'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†λ‹¤. λ”°λΌμ„ μ¤νƒμ—μ„ '6λ²' λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144670-e229cc00-ce8e-11eb-99c2-e46b016d37e6.PNG)  

**<u>step 6</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '7'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '8'μ΄ μλ‹¤. λ”°λΌμ„ '8'λ² λ…Έλ“λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144771-0be2f300-ce8f-11eb-867a-0e8d213bac82.PNG)  

**<u>step 7</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '8'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†λ‹¤. λ”°λΌμ„ μ¤νƒμ—μ„ '8'λ² λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122144848-32a12980-ce8f-11eb-8e16-6f8373345af7.PNG)  

**<u>step 8</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '7'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†λ‹¤. λ”°λΌμ„ μ¤νƒμ—μ„ '7λ²' λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145003-6aa86c80-ce8f-11eb-8a4f-6802e8803055.PNG)  

**<u>step 9</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '2'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†λ‹¤. λ”°λΌμ„ μ¤νƒμ—μ„ '2'λ² λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145081-8b70c200-ce8f-11eb-9134-26e748d5a7c0.PNG)  

**<u>step 10</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '1'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '3'μ„ μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145180-b6f3ac80-ce8f-11eb-89fc-6c038409e0a4.PNG)  

**<u>step 11</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '3'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '4'μ™€ '5'κ°€ μλ‹¤. μ΄ μ¤‘μ—μ„ κ°€μ¥ μ‘μ€ λ…Έλ“μΈ '4'λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145273-e5718780-ce8f-11eb-875c-eeaa174bf882.PNG)  

**<u>step 12</u>** : μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μΈ '4'μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ '5'κ°€ μλ‹¤. λ”°λΌμ„ '5'λ² λ…Έλ“λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145363-0f2aae80-ce90-11eb-9f87-f7211f56f6b7.PNG)  

**<u>step 13</u>** : λ‚¨μ•„ μλ” λ…Έλ“μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†λ‹¤. λ”°λΌμ„ λ¨λ“  λ…Έλ“λ¥Ό μ°¨λ΅€λ€λ΅ κΊΌλ‚΄λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.  

![image](https://user-images.githubusercontent.com/37467408/122145431-35504e80-ce90-11eb-9ac4-01c75ba9c6ff.PNG)  

κ²°κ³Όμ μΌλ΅ λ…Έλ“μ νƒμƒ‰ μμ„(μ¤νƒμ— λ“¤μ–΄κ°„ μμ„)λ” λ‹¤μκ³Ό κ°™λ‹¤.  

- 1 -> 2 -> 7 -> 6 -> 8 -> 3 -> 4 -> 5  

κΉμ΄ μ°μ„  νƒμƒ‰ μ•κ³ λ¦¬μ¦μΈ DFSλ” μ¤νƒ μλ£κµ¬μ΅°μ— κΈ°μ΄ν•λ‹¤λ” μ μ—μ„ κµ¬ν„μ΄ κ°„λ‹¨ν•λ‹¤. μ‹¤μ λ΅λ” μ¤νƒμ„ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λλ©° νƒμƒ‰μ„ μν–‰ν•¨μ— μμ–΄μ„ λ°μ΄ν„°μ κ°μκ°€ Nκ°μΈ κ²½μ° O(N)μ μ‹κ°„μ΄ μ†μ”λλ‹¤λ” νΉμ§•μ΄ μλ‹¤.  

```python
# DFS λ©”μ„λ“ μ •λ¦¬
def dfs(graph, v, visited):
  # ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬
  visited[v] = True
  print(v, end = ' ')
  # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ λ‹¤λ¥Έ λ…Έλ“λ¥Ό μ¬κ·€μ μΌλ΅ λ°©λ¬Έ
  for i in graph[v]:
    if not visited[i]:
      dfs(graph, i, visited)

# κ° λ…Έλ“κ°€ μ—°κ²°λ μ •λ³΄λ¥Ό λ¦¬μ¤νΈ μλ£ν•μΌλ΅ ν‘ν„(2μ°¨μ› λ¦¬μ¤νΈ)
graph = [
  [],
  [2, 3, 8],
  [1, 7],
  [1, 4, 5],
  [3, 5],
  [3, 4]
  [7],
  [2, 6, 8],
  [1, 7]
]

# κ° λ…Έλ“κ°€ λ°©λ¬Έλ μ •λ³΄λ¥Ό λ¦¬μ¤νΈ μλ£ν•μΌλ΅ ν‘ν„(1μ°¨μ› λ¦¬μ¤νΈ)
visited = [False] * 9

# μ •μλ DFS ν•¨μ νΈμ¶
dfs(graph, 1, visited)
```




---
**πΆ ν„μ¬ κ³µλ¶€ν•κ³  μλ” `μ΄κ²ƒμ΄ μ·¨μ—…μ„ μ„ν• μ½”λ”© ν…μ¤νΈλ‹¤ with νμ΄μ¬ - λ‚λ™λΉ μ €μ` μ μ±…μ„ ν•™μµν•λ©° κΈ°λ΅ λ° μ •λ¦¬λ¥Ό ν•κΈ°μ„ν• λ‚΄μ©λ“¤μ…λ‹λ‹¤. πΆ**
{: .notice--primary}   

κ°μ‚¬ν•©λ‹λ‹¤.π
